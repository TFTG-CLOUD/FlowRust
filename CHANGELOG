# Changelog

本文档记录了 MacCMS-rust 项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [2.0] - 2025-08-25

### 新增
- 定时采集任务功能
  - 支持设置定时采集计划
  - 实时监控任务执行状态
  - 自动状态更新和进度显示
  - 任务启动/停止控制

### 文档
- 更新 README.md 添加模板制作说明
- 添加 MIT 许可证文件

## [1.5] - 2025-08-24

### 新增
- 优化视频采集功能
- 添加图片类型到 .gitignore

### 修复
- 修复 Dockerfile 中环境变量命名不一致问题
  - 将 ADMIN_USERNAME 改为 ADMIN_USER
  - 将 ADMIN_PASSWORD 改为 ADMIN_PASS
  - 将 SESSION_SECRET 改为 SESSION_SECRET_KEY
- 分离数据库 URL 和名称配置

### 文档
- 更新 README.md 改进 MongoDB 安装说明

## [1.1] - 2025-08-17

### 新增
- Docker 部署方案重构
  - 使用 Ubuntu 22.04 作为基础镜像
  - 集成 MongoDB 8
  - 添加 Supervisor 管理进程和健康检查
  - 自动生成随机密码和配置
  - 支持数据持久化和生产环境部署
- 站点数据缓存管理功能
  - 新增 SiteDataManager 用于管理站点配置和分类数据缓存
  - 实现后台任务停止功能
  - 添加批量删除视频接口
  - 优化模板使用缓存数据替代直接数据库查询
  - 增加缓存刷新按钮和管理界面
- 获取所有集合索引信息的功能

### 改进
- 优化移动端筛选条件折叠功能
- 重命名视频采集管理为采集绑定并优化 UI
- 优化数据过滤逻辑，添加非空检查

### 修复
- 修复索引名称规范问题

### 文档
- 更新 README 文档结构和 API 接口说明
  - 优化文档格式和排版，增加空行提升可读性
  - 更新 API 接口文档，添加新增的批量删除视频接口
  - 修正性能对比表格中的数字格式
  - 添加采集 API 和分类绑定管理接口说明
  - 简化项目目录结构描述
- 添加 Release 包安装部署指南到 README

## [rust] - 2025-08-17

### 新增
- 项目初始化
  - 实现数据库连接初始化
  - 添加 Cargo.toml 依赖配置
  - 实现模板渲染功能
  - 添加管理员认证功能
  - 实现 DTO 数据传输对象
  - 添加前端模板文件
  - 添加 CSS 样式文件
  - 添加静态图片资源
  - 添加 .gitignore 文件忽略 target 目录
  - 添加 README 项目说明文档

---

## 版本说明

- **[Unreleased]**: 尚未发布的变更
- **[1.5]**: 视频采集优化版本
- **[1.1]**: Docker 部署和缓存管理版本
- **[rust]**: 项目初始版本

## 贡献指南

如果您想为本项目做出贡献，请确保：
1. 遵循现有的代码风格
2. 为新功能添加适当的测试
3. 更新相关文档
4. 在提交信息中清楚地描述变更内容

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。